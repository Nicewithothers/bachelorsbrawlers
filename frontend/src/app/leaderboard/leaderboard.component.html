<div class="container">
  <img class="bg-img" ngSrc="../../assets/images/egyetem.webp" fill priority>
  @if (hero && heroes && heroes.length > 0) {
    <div class="leaderboard-container">
      <p-table [value]="heroes" [paginator]="true" [rows]="8" (click)="onButtonClicked('map_button.mp3')">
        <ng-template pTemplate="header">
          <tr class="custom-header">
            <th>Név</th>
            <th>Szint</th>
            <th>XP</th>
            <th>Helyezés</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-hero let-rowIndex="rowIndex">
          <tr class="table-row" [ngClass]="{'selected-row': hero === selectedHero}">
            <td class="clickable" (click)="selectHero(hero)">{{ hero.name }}</td>
            <td>{{ hero.level }}</td>
            <td>{{ hero.xp }}</td>
            <td>{{ rowIndex + 1 }}</td>
          </tr>
        </ng-template>
      </p-table>

      <div class="bottom">
        <ng-template pTemplate="paginatorleft">
          <p-button
            type="button"
            icon="pi pi-plus"
            styleClass="p-button-text"
          ></p-button>
        </ng-template>
        <ng-template pTemplate="paginatorright">
          <p-button
            type="button"
            icon="pi pi-cloud"
            styleClass="p-button-text"
          ></p-button>
        </ng-template>
      </div>
    </div>
  } @else {
    <app-loading></app-loading>
  }
  <app-character [hero]="selectedHero || hero" [fromLeaderboardOrShop]="true"></app-character>
</div>
